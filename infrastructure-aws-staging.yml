instance_groups:
- name: etcd
  jobs:
  - name: cron
    properties:
      cron:
        variables:
          ENVIRONMENT: staging
- name: master
  jobs:
  - name: kubernetes-minion
    properties:
      aws:
        cluster-tag: kubernetes-staging
- name: minion
  instances: 14
  networks:
  - name: services
    static_ips:
    - (( grab terraform_outputs.kubernetes_static_ips.[9] ))
    - (( grab terraform_outputs.kubernetes_static_ips.[10] ))
    - (( grab terraform_outputs.kubernetes_static_ips.[11] ))
    - (( grab terraform_outputs.kubernetes_static_ips.[12] ))
    - (( grab terraform_outputs.kubernetes_static_ips.[13] ))
    - (( grab terraform_outputs.kubernetes_static_ips.[14] ))
    - (( grab terraform_outputs.kubernetes_static_ips.[15] ))
    - (( grab terraform_outputs.kubernetes_static_ips.[23] ))
    - (( grab terraform_outputs.kubernetes_static_ips.[24] ))
    - (( grab terraform_outputs.kubernetes_static_ips.[25] ))
    - (( grab terraform_outputs.kubernetes_static_ips.[26] ))
    - (( grab terraform_outputs.kubernetes_static_ips.[27] ))
    - (( grab terraform_outputs.kubernetes_static_ips.[28] ))
    - (( grab terraform_outputs.kubernetes_static_ips.[29] ))
  jobs:
  - name: kubernetes-minion
    properties:
      aws:
        cluster-tag: kubernetes-staging
